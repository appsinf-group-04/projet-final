<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/public/css/output.css">
    <title>Créer une Annonce</title>
</head>
<body class="bg-gray-100">

    <%- include("../components/header.ejs") -%>

    <div class="container mx-auto mt-10">
        <div class="p-8 mx-auto bg-white rounded-lg shadow-md max-w-7xl">
            <h1 class="mb-4 text-xl font-bold">Créer une Annonce</h1>
            <form action="/profile/create" method="POST">
                <div class="flex mb-4">
                    <label for="imgFile" class="mr-2">Déposer les images (5) :</label>
                    <div class="relative">
                        <label for="fileInput" class="px-2 py-1 text-white bg-blue-500 rounded-md cursor-pointer">
                            Choisir un fichier
                        </label>
                        <input type="file" id="fileInput" name="imgFile" class="hidden" accept="image/*">
                    </div>
                </div>

                <label for="objectName" class="block mb-2">Titre :</label>
                <input type="text" id="objectName" name="title" class="w-full p-2 mb-4 border rounded-md" required value="<%= formData ? formData['title'] : '' %>">
                <% if (errors && errors.some(e => e.path=="title")) { %>
                  <p class="text-red-500"><%= errors.find(e => e.path=="title").message %></p>
                <% } %>

                <label for="price" class="block mb-2">Prix :</label>
                <input type="number" id="price" name="price" max="10000" min="0" class="w-full p-2 mb-4 border rounded-md" required value="<%= formData ? formData['price'] : '' %>">
                <% if (errors && errors.some(e => e.path=="price")) { %>
                  <p class="text-red-500"><%= errors.find(e => e.path=="price").message %></p>
                <% } %>

                <label for="state" class="block mb-2">État :</label>
                <select id="state" name="state" class="w-full p-2 mb-4 border rounded-md" required>
                    <option value="great">Très bon</option>
                    <option value="good">Bon</option>
                    <option value="ok">Correct</option>
                    <option value="used">Usé</option>
                </select>
                <% if (errors && errors.some(e => e.path=="state")) { %>
                  <p class="text-red-500"><%= errors.find(e => e.path=="state").message %></p>
                <% } %>

                <label for="description" class="block mb-2">Description (facultative) :</label>
                <textarea id="description" name="description" class="w-full p-2 mb-4 border rounded-md resize-none"><%= formData ? formData['description'] : '' %></textarea>
                <% if (errors && errors.some(e => e.path=="description")) { %>
                  <p class="text-red-500"><%= errors.find(e => e.path=="description").message %></p>
                <% } %>

                <div class="flex justify-between">
                    <button type="submit" class="px-2 py-1 text-white bg-blue-500 rounded-md">Créer l'annonce</button>
                    <a href="/profile" class="px-2 py-1 ml-auto text-gray-500 bg-gray-200 rounded-md">Annuler</a>
                </div>
            </form>
        </div>
    </div>

</body>
</html>
